document.addEventListener("DOMContentLoaded",(function(){var t=[].slice.call(document.querySelectorAll("img.lazy")),e=[].slice.call(document.querySelectorAll(".lazy-background")),n=[].slice.call(document.querySelectorAll("[data-bg]"));if("IntersectionObserver"in window){let c=new IntersectionObserver((function(t,e){t.forEach((function(t){if(t.isIntersecting){let e=t.target;e.src=e.dataset.src,e.srcset=e.dataset.srcset,e.classList.remove("lazy"),c.unobserve(e)}}))}));t.forEach((function(t){c.observe(t)}));let i=new IntersectionObserver((function(t,e){t.forEach((function(t){t.isIntersecting&&(t.target.classList.add("visible"),i.unobserve(t.target))}))}));e.forEach((function(t){i.observe(t)}));let a=new IntersectionObserver((function(t,e){t.forEach((function(t){if(t.isIntersecting){let e=t.target;e.style.backgroundImage="url("+e.dataset.bg+")",a.unobserve(e)}}))}));n.forEach((function(t){a.observe(t)}))}else t.forEach((function(t){t.src=t.dataset.src,t.srcset=t.dataset.srcset})),e.forEach((function(t){t.classList.add("visible")})),n.forEach((function(t){t.style.backgroundImage="url("+t.dataset.bg+")"}))}));var searchIcon=document.getElementById("search_icon"),searchToggle=document.querySelector(".search_toggle"),listEventsElement=document.querySelector(".container_list_events");function showHideSearch(){searchToggle.classList.contains("show_toggle_search")?searchToggle.classList.remove("show_toggle_search"):searchToggle.classList.add("show_toggle_search")}function getAllEvents(){axios.get("https://eventafisha.com/api/v1/events").then((function(t){console.log(t.data);for(let e in t.data)createEventCard(t.data[e])})).catch((function(t){console.log(t)})).then((function(){}))}function createEventCard(t){let e='<div class="event_card_date_info">\n\t<div class="event_card_date">\n\t\t<div class="event_time">'+t.time+'</div>\n\t\t<div class="event_pst">PST</div>\n\t</div>\n\t<div class="event_card_info">\n\t\t<div class="event_title_tag">\n\t\t\t<div class="event_title">'+t.title+'</div>\n\t\t\t<div class="event_tag">Webinar</div>\n\t\t</div>\n\t\t<div class="event_by">by Thinkful Las Vegas</div>\n\t\t<div class="event_location_price">\n\t\t\t<div class="event_location">\n\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" class="location_icon" viewBox="0 0 24 24"><path fill="#666" d="M12 0c-4.198 0-8 3.403-8 7.602 0 4.198 3.469 9.21 8 16.398 4.531-7.188 8-12.2 8-16.398 0-4.199-3.801-7.602-8-7.602zm0 11c-1.657 0-3-1.343-3-3s1.343-3 3-3 3 1.343 3 3-1.343 3-3 3z"/></svg>\n\t\t\t\t<div class="location_name">'+t.address+'</div>\n\t\t\t</div>\n\t\t\t<div class="event_price">\n\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" class="price_icon" viewBox="0 0 24 24"><path fill="#666" d="M22 4h-20c-1.104 0-2 .896-2 2v12c0 1.104.896 2 2 2h20c1.104 0 2-.896 2-2v-12c0-1.104-.896-2-2-2zm0 13.5c0 .276-.224.5-.5.5h-19c-.276 0-.5-.224-.5-.5v-6.5h20v6.5zm0-9.5h-20v-1.5c0-.276.224-.5.5-.5h19c.276 0 .5.224.5.5v1.5zm-9 6h-9v-1h9v1zm-3 2h-6v-1h6v1zm10-2h-3v-1h3v1z"/></svg>\n\t\t\t\t<div class="price">$'+t.cost+'</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="tags_info">\n\t\t\t<div class="event_tag green_tag_info">JavaScript</div>\n\t\t\t<div class="event_tag green_tag_info">HTML</div>\n\t\t</div>\n\t</div>\n\t</div>\n\t<svg class="close_icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path class="close_icon_color" d="M23 20.168l-8.185-8.187 8.185-8.174-2.832-2.807-8.182 8.179-8.176-8.179-2.81 2.81 8.186 8.196-8.186 8.184 2.81 2.81 8.203-8.192 8.18 8.192z"/></svg>',n=document.createElement("a");n.href="/event-page.html?id="+t.id,n.className="event_card",n.innerHTML=e,listEventsElement.append(n)}function watchWidthDisplay(t){t.matches&&searchToggle.classList.remove("show_toggle_search")}getAllEvents(),getCities("location"),getCities("location_mob"),searchIcon.addEventListener("click",()=>showHideSearch());var widthMedia=window.matchMedia("(min-width: 768px)");function getCities(t){axios.get("https://eventafisha.com/api/v1/cities").then((function(e){for(let n in e.data)addOptionSelect(e.data[n],t)})).catch((function(t){console.log(t)})).then((function(){}))}function addOptionSelect(t,e){let n=document.getElementById(e),c=document.createElement("option");c.value=t.id,c.innerHTML=t.title,n.add(c)}function searchTitleCity(t,e){searchRequest(document.getElementById(t).value,document.getElementById(e).value)}function searchRequest(t,e){console.log("title",t);for(var n=document.querySelector(".container_list_events");n.firstChild;)n.removeChild(n.firstChild);axios.get("https://eventafisha.com/api/v1/events",{params:{title:t,city:e}}).then((function(t){console.log(t);for(let e in t.data)createEventCard(t.data[e]);window.matchMedia("(max-width: 768px)").matches&&showHideSearch()})).catch((function(t){console.log(t)}))}watchWidthDisplay(widthMedia),widthMedia.addListener(watchWidthDisplay);let btnSearch=document.getElementById("btn_search");btnSearch.addEventListener("click",()=>searchTitleCity("event_name","location"));let btnSearchMob=document.getElementById("btn_search_mob");btnSearchMob.addEventListener("click",()=>searchTitleCity("event_name_mob","location_mob")),$((function(){$(".datepicker-here").datepicker({onSelect:function(t,e){console.log(t)}})}));